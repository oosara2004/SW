<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Page</title>
    <link rel="stylesheet" href="Pay.css">
</head>
<body>
    <div class="payment-container">
        <h2>Payment Details</h2>
        <form id="payment-form">

            
            <label for="card-name">Cardholder Name</label>
            <input type="text" id="card-name" placeholder="name" required="">
            
            <label for="card-number">Card Number</label>
            <input type="text" id="card-number" placeholder="1234 5678 9012 3456" required="">
            
            <label for="expiry">Expiry Date</label>
            <input type="text" id="expiry" placeholder="MM/YY" required="">
            
            <label for="cvv">CVV</label>
            <input type="text" id="cvv" placeholder="123" required="">
            
            <a href="MyTicket.html">
            <button type="button" class="button">Pay Now</button>
            <button type="button" class="apple-pay">Pay with Apple Pay</button>
            <button type="button" class="digital-card">Pay with Digital Card</button>
        </a>
        </form>
    </div>
    
    <script>
        document.getElementById('payment-form').addEventListener('submit', function(event) {
            event.preventDefault(); // منع إعادة تحميل الصفحة

            // هنا يمكنك إضافة كود الدفع (مثل استخدام Stripe أو PayPal)
            
            // إذا كانت عملية الدفع ناجحة
            const paymentSuccessful = true; // تأكد من تغيير هذا بناءً على نتيجة الدفع

            if (paymentSuccessful) {
                const ticketType = document.getElementById('ticket-type').value; // استرجاع نوع التذكرة
                const duration = ticketType.split(" - ")[2]; // استخراج المدة من النص
                addTicketToLocalStorage(ticketType, duration); // إضافة التذكرة إلى localStorage
                alert('The ticket has been successfully added to your tickets!');
                
                // يمكنك إعادة توجيه المستخدم إلى صفحة تذاكري
                window.location.href = 'myTickets.html'; // تأكد من استخدام اسم الصفحة الصحيح
            } else {
                alert('An error occurred during the payment process. Try again.');
            }
        });
        function addTicketToLocalStorage(ticketType, duration) {
            const tickets = JSON.parse(localStorage.getItem('myTickets')) || [];
            localStorage.setItem('myTickets', JSON.stringify(tickets));
        }
   

        // دالة لاسترجاع التذاكر المخزنة (اختيارية)
        function getTicketsFromLocalStorage() {
            return JSON.parse(localStorage.getItem('myTickets')) || [];
        }
    </script>
</body>
</html>